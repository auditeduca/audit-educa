<!DOCTYPE html>
<html lang="pt-pt" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Repositório de Provas Audit Educa - Exames de Suficiência, CNAI e Certificações.">
    <title>Repositório de Provas | Audit Educa</title>
    
    <!-- Favicon Oficial -->
    <link rel="icon" type="image/webp" href="https://auditeduca.com.br/assets/iassets/images/audit-educa-favicon.webp">

    <!-- CSS Externos Audit Educa -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"/>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.tailwindcss.com"></script>

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                        serif: ['Playfair Display', 'serif'],
                    },
                    colors: {
                        'audit-gold': '#C5A059',
                        'audit-navy': '#0f172a',
                        'audit-blue': '#1e40af',
                    }
                }
            }
        }
    </script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;900&family=Playfair+Display:wght@600;700;900&display=swap');
        
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #f8fafc; 
            color: #334155; 
            background-image: 
                radial-gradient(#cbd5e1 0.5px, transparent 0.5px), 
                linear-gradient(#e2e8f0 1px, transparent 1px), 
                linear-gradient(90deg, #e2e8f0 1px, transparent 1px);
            background-size: 20px 20px, 40px 40px, 40px 40px;
            background-attachment: fixed;
        }

        /* Sidebar Esquerda */
        .sidebar-left-tools {
            position: fixed; left: 0; top: 50%; transform: translateY(-50%);
            display: flex; flex-direction: column; gap: 12px; z-index: 1000;
        }
        .tool-btn {
            background-color: white; color: #0f172a; border: 1px solid #e2e8f0; border-left: none;
            width: 54px; height: 54px; border-radius: 0 14px 14px 0;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            cursor: pointer; box-shadow: 4px 0 10px rgba(0, 0, 0, 0.05);
            transition: all 0.3s;
        }
        .tool-btn:hover { width: 65px; background-color: #0f172a; color: #C5A059; }

        /* Capa Flat Page */
        .exam-page-cover {
            aspect-ratio: 1 / 1.414;
            background: white;
            position: relative;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
            border: 1px solid #e2e8f0;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        .exam-page-cover:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            border-color: #C5A059;
        }

        /* Capa Mini (Para o Hero Slider) */
        .exam-page-cover-mini {
            width: 160px;
            height: 226px;
            flex-shrink: 0;
        }

        .type-indicator { height: 6px; width: 100%; position: absolute; top: 0; left: 0; z-index: 10; }
        .type-branca { background: #cbd5e1; }
        .type-verde { background: #22c55e; }
        .type-azul { background: #3b82f6; }
        .type-amarela { background: #eab308; }

        .svg-texture {
            position: absolute;
            inset: 0;
            opacity: 0.03;
            background-image: url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%230f172a' fill-opacity='1' fill-rule='evenodd'%3E%3Ccircle cx='3' cy='3' r='3'/%3E%3Ccircle cx='13' cy='13' r='3'/%3E%3C/g%3E%3C/svg%3E");
            z-index: 1;
        }

        /* Botões de Ação */
        .btn-download-premium {
            @apply flex-1 bg-audit-navy text-white text-[9px] font-black uppercase tracking-widest py-2.5 flex items-center justify-center gap-2 hover:bg-slate-800 transition-colors border-t border-white/5;
        }
        .btn-view-premium {
            @apply flex-1 bg-white text-audit-navy text-[9px] font-black uppercase tracking-widest py-2.5 flex items-center justify-center gap-2 hover:bg-slate-50 transition-colors border-r border-slate-100;
        }

        /* Hero Infinite Slider */
        .hero-slider-container {
            width: 100%;
            overflow: hidden;
            position: relative;
            padding: 20px 0;
        }
        .hero-slider-track {
            display: flex;
            gap: 2rem;
            width: max-content;
            animation: scroll-infinite 40s linear infinite;
        }
        .hero-slider-track:hover {
            animation-play-state: paused;
        }

        @keyframes scroll-infinite {
            0% { transform: translateX(0); }
            100% { transform: translateX(calc(-50% - 1rem)); }
        }

        .tag-pill-link {
            @apply flex items-center gap-2 px-4 py-2 bg-white text-slate-500 text-[10px] uppercase font-bold rounded-xl border border-slate-200 hover:border-audit-gold hover:text-audit-navy hover:shadow-md transition-all cursor-pointer;
        }

        main { padding-top: 150px; }
        @media (min-width: 1024px) { .content-wrapper { padding-left: 110px; padding-right: 70px; } }
        
        @media (max-width: 640px) {
            .sidebar-left-tools { top: auto; bottom: 0; left: 0; width: 100%; height: 70px; flex-direction: row; transform: none; background: white; border-top: 1px solid #e2e8f0; border-radius: 0; }
            .tool-btn { border: none; border-radius: 8px; width: auto; flex: 1; }
            body { padding-bottom: 80px; }
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- BARRA LATERAL ESQUERDA -->
    <aside class="sidebar-left-tools no-print">
        <button class="tool-btn" onclick="openHelp()" title="Ajuda"><i class="fas fa-question-circle"></i></button>
        <button class="tool-btn" onclick="showToast('Histórico sincronizado.')" title="Histórico"><i class="fas fa-history"></i></button>
        <button class="tool-btn" onclick="window.scrollTo({top: 0, behavior: 'smooth'})" title="Topo"><i class="fas fa-chevron-up"></i></button>
    </aside>

    <main class="flex-grow pb-20 px-4 sm:px-6">
        <div class="max-w-7xl mx-auto content-wrapper">
            
            <!-- Breadcrumb -->
            <nav class="flex mb-8 text-[10px] font-bold text-slate-400 uppercase tracking-widest no-print">
                <ol class="flex items-center gap-2">
                    <li><a href="/" class="hover:text-audit-gold transition">Home</a></li>
                    <li><i class="fas fa-chevron-right text-[8px]"></i></li>
                    <li>Conteúdo Técnico</li>
                    <li><i class="fas fa-chevron-right text-[8px]"></i></li>
                    <li class="text-audit-gold underline underline-offset-4 tracking-widest">Repositório Hub</li>
                </ol>
            </nav>

            <div class="grid grid-cols-1 lg:grid-cols-12 gap-10">
                
                <!-- Coluna Principal -->
                <div class="lg:col-span-8 space-y-16">
                    
                    <div>
                        <h1 class="text-4xl md:text-5xl font-serif font-bold text-audit-navy tracking-tight mb-4">Repositório Técnico</h1>
                        <p class="text-slate-600 text-lg font-light leading-relaxed">Central de inteligência com as últimas edições de <span class="text-audit-navy font-semibold">exames profissionais de auditoria</span>.</p>
                    </div>

                    <!-- SECÇÃO: HERO SLIDER (LANÇAMENTOS RECENTES) -->
                    <section id="hero-quick-access" class="relative">
                        <div class="flex items-center justify-between mb-8 border-b border-slate-200 pb-4">
                            <div class="flex items-center gap-3">
                                <i class="fas fa-bolt text-audit-gold text-xs"></i>
                                <h2 class="text-xs font-black text-audit-navy uppercase tracking-widest">Últimas Edições por Categoria</h2>
                            </div>
                            <span class="text-[9px] font-bold text-slate-400 uppercase tracking-widest hidden sm:block">Scroll Automático</span>
                        </div>
                        
                        <div class="hero-slider-container">
                            <div id="hero-track" class="hero-slider-track">
                                <!-- Conteúdo gerado via JS (Dobra duplicada para efeito infinito) -->
                            </div>
                        </div>
                    </section>

                    <!-- SECÇÕES POR TIPO -->
                    <div id="exam-sections-container" class="space-y-16">
                        <!-- Categorias dinâmicas injetadas aqui -->
                    </div>

                    <!-- CTA SIMULADO -->
                    <section class="bg-audit-navy rounded-[2.5rem] p-10 md:p-14 text-white relative overflow-hidden group shadow-2xl no-print">
                        <div class="absolute -right-10 -bottom-10 opacity-10 group-hover:scale-110 transition-transform duration-700">
                            <i class="fas fa-graduation-cap text-[12rem]"></i>
                        </div>
                        <div class="relative z-10">
                            <h2 class="text-3xl font-serif font-bold mb-6">Simulado de Suficiência</h2>
                            <p class="text-slate-300 text-sm leading-relaxed mb-8 max-w-lg">Pratique com a metodologia Audit Educa em um ambiente que replica fielmente as condições dos exames oficiais.</p>
                            <a href="#" class="inline-flex items-center gap-3 bg-audit-gold text-audit-navy px-8 py-4 rounded-xl font-bold text-xs uppercase tracking-widest hover:bg-yellow-500 transition-all shadow-lg">
                                Iniciar Preparação <i class="fas fa-arrow-right"></i>
                            </a>
                        </div>
                    </section>
                </div>

                <!-- Coluna Lateral -->
                <aside class="lg:col-span-4 space-y-8 no-print">
                    
                    <!-- Search & Filters -->
                    <div class="bg-white rounded-2xl border border-slate-200 p-8 shadow-sm">
                        <div class="flex items-center gap-2 mb-6 border-b pb-4">
                            <i class="fas fa-filter text-audit-gold text-xs"></i>
                            <span class="text-[10px] font-bold text-audit-navy uppercase tracking-widest">Filtrar Base</span>
                        </div>
                        <div class="space-y-4">
                            <div class="relative">
                                <i class="fas fa-search absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 text-xs"></i>
                                <input type="text" id="searchInput" onkeyup="filterContent()" placeholder="CFC, CNAI, 2024..." class="w-full pl-10 pr-4 py-4 bg-slate-50 border border-slate-200 rounded-xl text-xs outline-none focus:border-audit-gold transition">
                            </div>
                            <select id="typeFilter" onchange="filterContent()" class="w-full p-4 bg-slate-50 border border-slate-200 rounded-xl text-xs font-bold text-audit-navy uppercase tracking-widest outline-none focus:border-audit-gold cursor-pointer">
                                <option value="all">Todas as Áreas</option>
                                <option value="CFC">Contabilidade (CFC)</option>
                                <option value="CNAI">Auditoria (CNAI)</option>
                                <option value="SUSEP">Seguros (SUSEP)</option>
                            </select>
                        </div>
                    </div>

                    <!-- Tags Rápidas -->
                    <div class="bg-white rounded-2xl border border-slate-200 p-8 shadow-sm">
                        <div class="flex items-center gap-2 mb-6 border-b pb-4">
                            <i class="fas fa-tags text-audit-gold text-xs"></i>
                            <span class="text-[10px] font-bold text-audit-navy uppercase tracking-widest">Tags Populares</span>
                        </div>
                        <div class="flex flex-wrap gap-2">
                            <span onclick="setTag('2024')" class="tag-pill-link">#Atualizado2024</span>
                            <span onclick="setTag('QTG')" class="tag-pill-link">#AuditoriaGeral</span>
                            <span onclick="setTag('BACEN')" class="tag-pill-link">#Bacen</span>
                            <span onclick="setTag('CVM')" class="tag-pill-link">#CVM</span>
                        </div>
                    </div>

                    <!-- Hub Premium -->
                    <div class="bg-audit-gold/10 p-8 rounded-2xl border border-audit-gold/20 relative overflow-hidden">
                        <div class="relative z-10">
                            <h4 class="text-[10px] font-black uppercase tracking-widest text-audit-navy mb-3">Audit Educa Premium</h4>
                            <p class="text-[11px] leading-relaxed text-slate-600 mb-6">Aceda a gabaritos comentados e resoluções em vídeo para cada questão deste repositório.</p>
                            <button class="w-full p-3 bg-audit-navy text-white font-bold text-[9px] uppercase tracking-widest rounded-lg hover:bg-slate-800 transition shadow-lg">Conhecer Planos</button>
                        </div>
                    </div>

                </aside>
            </div>
        </div>
    </main>

    <!-- MODAL AJUDA -->
    <div id="helpModal" class="fixed inset-0 z-[2000] hidden flex items-center justify-center p-4">
        <div class="absolute inset-0 bg-audit-navy/80 backdrop-blur-sm" onclick="closeHelp()"></div>
        <div class="relative bg-white w-full max-w-lg rounded-[2rem] p-10 shadow-2xl animate-in zoom-in duration-300">
            <h3 class="text-2xl font-serif font-bold text-audit-navy mb-4">Central de Ajuda</h3>
            <div class="space-y-4 text-sm text-slate-600 leading-relaxed">
                <p>O <strong>Hero Slider</strong> no topo mostra sempre a edição mais recente de cada categoria contida no sistema.</p>
                <p>Para localizar provas de anos anteriores, utilize os <strong>Filtros</strong> na barra lateral ou navegue pelas secções organizadas abaixo.</p>
            </div>
            <button onclick="closeHelp()" class="mt-8 w-full py-4 bg-audit-gold text-audit-navy font-black uppercase tracking-widest rounded-xl hover:bg-yellow-500 transition shadow-lg">Fechar Guia</button>
        </div>
    </div>

    <!-- Toast -->
    <div id="toast" class="fixed bottom-10 left-1/2 -translate-x-1/2 bg-audit-navy text-white px-10 py-5 rounded-full text-[10px] font-bold uppercase tracking-[0.2em] shadow-2xl opacity-0 translate-y-10 transition-all duration-300 z-[3000] pointer-events-none">
        Operação concluída!
    </div>

    <script>
        lucide.createIcons();

        // Dados simulados expandidos para demonstrar o slider
        const examData = [
            { id: '1', title: 'Exame de Suficiência Contábil', year: '2024.1', type: 'CFC', color: 'branca', ref: 'AE-2024-CFC-B' },
            { id: '2', title: 'Auditoria Geral (QTG)', year: '2023', type: 'CNAI', color: 'verde', ref: 'AE-2023-QTG-V' },
            { id: '3', title: 'Mercado de Capitais (CVM)', year: '2023', type: 'CNAI', color: 'azul', ref: 'AE-2023-CVM-A' },
            { id: '4', title: 'Inst. Financeiras (BACEN)', year: '2023', type: 'CNAI', color: 'amarela', ref: 'AE-2023-BAC-Y' },
            { id: '5', title: 'Perícia Contábil (SUSEP)', year: '2022', type: 'SUSEP', color: 'verde', ref: 'AE-2022-SUS-P' },
            { id: '6', title: 'Exame de Suficiência Contábil', year: '2023.2', type: 'CFC', color: 'verde', ref: 'AE-2023-CFC-V' },
            { id: '7', title: 'Auditoria Geral (QTG)', year: '2022', type: 'CNAI', color: 'amarela', ref: 'AE-2022-QTG-Y' }
        ];

        function createCapaHTML(doc, isMini = false) {
            const sizeClasses = isMini ? 'exam-page-cover-mini' : 'w-full';
            const textHeader = isMini ? 'text-[6px]' : 'text-[7px]';
            const titleSize = isMini ? 'text-2xl mt-3' : 'text-4xl mt-10';
            const yearSize = isMini ? 'text-xl' : 'text-3xl';
            const logoSize = isMini ? 'h-6' : 'h-10';

            return `
                <div class="flex flex-col gap-4 group exam-item" data-type="${doc.type}" data-title="${doc.title} ${doc.year}">
                    <div class="exam-page-cover rounded-2xl ${sizeClasses}">
                        <div class="type-indicator type-${doc.color}"></div>
                        <div class="svg-texture"></div>
                        
                        <div class="relative z-10 p-5 h-full flex flex-col items-center justify-between text-center w-full">
                            <div>
                                <span class="${textHeader} font-black text-slate-300 uppercase tracking-[0.3em]">Audit Educa</span>
                                <h3 class="font-serif font-black text-audit-navy tracking-tighter ${titleSize}">${doc.type}</h3>
                                <p class="text-[7px] font-bold text-audit-gold uppercase tracking-widest mt-1">${doc.title}</p>
                            </div>

                            <div>
                                <span class="font-black text-audit-navy tracking-tighter ${yearSize}">${doc.year}</span>
                            </div>

                            <div class="w-full flex flex-col items-center pt-4 border-t border-slate-50">
                                <img src="https://auditeduca.com.br/assets/images/Gemini_Generated_Image_q34fncq34fncq34f.png" class="${logoSize} object-contain opacity-70 grayscale group-hover:grayscale-0 transition-all">
                                <span class="text-[6px] font-bold text-slate-400 uppercase tracking-widest mt-1">${doc.ref}</span>
                            </div>
                        </div>
                    </div>

                    <div class="flex shadow-lg rounded-2xl overflow-hidden border border-slate-200">
                        <button onclick="showToast('Abrindo preview técnico...')" class="btn-view-premium">
                            <i class="fas fa-eye text-audit-gold"></i> Ver
                        </button>
                        <button onclick="showToast('A processar download PDF...')" class="btn-download-premium">
                            <i class="fas fa-download text-audit-gold"></i> Baixar
                        </button>
                    </div>
                </div>
            `;
        }

        function getLatestExams() {
            // Lógica para pegar a última edição de cada categoria (Type)
            const latest = {};
            examData.forEach(exam => {
                if (!latest[exam.type] || exam.year > latest[exam.type].year) {
                    latest[exam.type] = exam;
                }
            });
            return Object.values(latest);
        }

        function renderExams() {
            const heroTrack = document.getElementById('hero-track');
            const sectionContainer = document.getElementById('exam-sections-container');
            
            // 1. Render Hero Slider (Infinite)
            const latests = getLatestExams();
            // Duplicamos o array para criar o efeito infinito perfeito no CSS
            const sliderItems = [...latests, ...latests]; 
            heroTrack.innerHTML = sliderItems.map(doc => createCapaHTML(doc, true)).join('');

            // 2. Render Categories (Others)
            const types = ['CFC', 'CNAI', 'SUSEP'];
            sectionContainer.innerHTML = types.map(type => {
                const filtered = examData.filter(e => e.type === type);
                if (filtered.length === 0) return '';
                
                return `
                    <section class="type-section" data-section-type="${type}">
                        <div class="flex items-center gap-3 mb-8 border-b border-slate-200 pb-4">
                            <i class="fas fa-folder-open text-audit-gold text-xs"></i>
                            <h2 class="text-xs font-black text-audit-navy uppercase tracking-widest">Categoria: ${type}</h2>
                        </div>
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10">
                            ${filtered.map(doc => createCapaHTML(doc)).join('')}
                        </div>
                    </section>
                `;
            }).join('');
        }

        function filterContent() {
            const query = document.getElementById('searchInput').value.toLowerCase();
            const typeFilter = document.getElementById('typeFilter').value;
            const items = document.querySelectorAll('.exam-item');
            const sections = document.querySelectorAll('.type-section');

            items.forEach(item => {
                const type = item.getAttribute('data-type');
                const title = item.getAttribute('data-title').toLowerCase();
                const matchType = typeFilter === 'all' || type === typeFilter;
                const matchQuery = title.includes(query);

                if (matchType && matchQuery) {
                    item.classList.remove('hidden');
                } else {
                    item.classList.add('hidden');
                }
            });

            sections.forEach(sec => {
                const visible = sec.querySelectorAll('.exam-item:not(.hidden)').length;
                if (visible === 0) sec.classList.add('hidden');
                else sec.classList.remove('hidden');
            });
        }

        function setTag(tag) {
            document.getElementById('searchInput').value = tag;
            filterContent();
        }

        function showToast(msg) {
            const t = document.getElementById('toast');
            t.innerText = msg;
            t.classList.replace('opacity-0', 'opacity-100');
            t.classList.replace('translate-y-10', 'translate-y-0');
            setTimeout(() => {
                t.classList.replace('opacity-100', 'opacity-0');
                t.classList.replace('translate-y-0', 'translate-y-10');
            }, 3000);
        }

        function openHelp() { document.getElementById('helpModal').classList.remove('hidden'); }
        function closeHelp() { document.getElementById('helpModal').classList.add('hidden'); }

        window.onload = () => {
            renderExams();
        };
    </script>
</body>
</html>