<!DOCTYPE html>
<html lang="pt-pt" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Biblioteca de Auditoria Externa Audit Educa - Kit completo de circularizações e papéis de trabalho conforme NBC TA.">
    <title>Biblioteca Técnica | Audit Educa</title>
    
    <!-- Favicon Oficial -->
    <link rel="icon" type="image/webp" href="https://auditeduca.com.br/assets/iassets/images/audit-educa-favicon.webp">

    <!-- CSS Externos Globais Audit Educa -->
    <link rel="stylesheet" href="https://auditeduca.com.br/assets/css/preloader.css">
    <link rel="stylesheet" href="https://auditeduca.com.br/assets/css/global.css">
    <link rel="stylesheet" href="https://auditeduca.com.br/assets/css/main.css">
    <link rel="stylesheet" href="https://auditeduca.com.br/assets/css/header.css">
    <link rel="stylesheet" href="https://auditeduca.com.br/assets/css/footer.css">

    <!-- FontAwesome & Lucide -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"/>
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                        serif: ['Playfair Display', 'serif'],
                    },
                    colors: {
                        'audit-gold': '#C5A059',
                        'audit-navy': '#0f172a',
                        'audit-blue': '#1e40af',
                    }
                }
            }
        }
    </script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;900&family=Playfair+Display:wght@600;700;900&display=swap');
        
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #f8fafc; 
            color: #334155; 
            background-image: 
                radial-gradient(#cbd5e1 0.5px, transparent 0.5px), 
                linear-gradient(#e2e8f0 1px, transparent 1px), 
                linear-gradient(90deg, #e2e8f0 1px, transparent 1px);
            background-size: 20px 20px, 40px 40px, 40px 40px;
            background-attachment: fixed;
        }

        /* BARRA DE FERRAMENTAS LATERAL */
        .sidebar-left-tools {
            position: fixed; left: 0; top: 50%; transform: translateY(-50%);
            display: flex; flex-direction: column; gap: 12px; z-index: 1000; padding: 10px 0;
        }
        .tool-btn {
            @apply bg-white text-audit-navy border border-slate-200 border-l-0 w-[54px] h-[54px] rounded-r-2xl flex flex-col items-center justify-center cursor-pointer shadow-lg transition-all duration-300 relative outline-none;
        }
        .tool-btn:hover { width: 65px; @apply bg-audit-navy text-audit-gold; padding-left: 5px; }

        /* Estilização dos Cards da Biblioteca */
        .card-library {
            @apply bg-white rounded-3xl border border-slate-200 overflow-hidden flex flex-col transition-all duration-400;
        }
        .card-library:hover {
            @apply shadow-2xl border-audit-gold -translate-y-2;
        }
        
        .hero-gradient {
            background: linear-gradient(135deg, #0f172a 0%, #1e40af 100%);
        }

        .category-badge {
            @apply absolute top-4 left-4 px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest shadow-sm z-10;
        }

        /* Modal Preview Sólido - Sem Marcas de Água */
        #preview-modal {
            @apply bg-slate-100;
            z-index: 9000;
        }
        .preview-paper {
            @apply bg-white shadow-2xl mx-auto p-12 md:p-20 relative border border-slate-200;
            max-width: 850px;
            min-height: 1100px;
        }

        /* Utils */
        .svg-texture {
            position: absolute; inset: 0; opacity: 0.03;
            background-image: url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%230f172a' fill-opacity='1' fill-rule='evenodd'%3E%3Ccircle cx='3' cy='3' r='3'/%3E%3Ccircle cx='13' cy='13' r='3'/%3E%3C/g%3E%3C/svg%3E");
        }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade { animation: fadeIn 0.5s ease-out forwards; }

        main { padding-top: 150px; }
        @media (min-width: 1024px) { .content-wrapper { padding-left: 110px; padding-right: 70px; } }
    </style>

    <!-- Scripts de Integração Audit Educa -->
    <script src="https://auditeduca.com.br/assets/js/utils.js" defer></script>
    <script src="https://auditeduca.com.br/assets/js/main.js" defer></script>
    <script src="https://auditeduca.com.br/assets/js/header.js" defer></script>
    <script src="https://auditeduca.com.br/assets/js/footer.js" defer></script>
</head>
<body class="flex flex-col min-h-screen">

    <div id="preloader"><div class="spinner"></div></div>
    
    <div id="header-placeholder" class="no-print"></div>

    <!-- SIDEBAR TOOLS -->
    <aside class="sidebar-left-tools no-print">
        <button class="tool-btn" onclick="startTour()" title="Ajuda Técnica">
            <i class="fas fa-magic"></i>
        </button>
        <button class="tool-btn" onclick="showToast('Sincronizando ficheiros salvos...')" title="Favoritos">
            <i class="fas fa-bookmark"></i>
        </button>
        <button class="tool-btn" onclick="window.scrollTo({top: 0, behavior: 'smooth'})" title="Topo">
            <i class="fas fa-chevron-up"></i>
        </button>
    </aside>

    <!-- HERO SECTION -->
    <section class="hero-gradient text-white pt-48 pb-24 px-4 relative overflow-hidden no-print">
        <div class="absolute inset-0 svg-texture opacity-10"></div>
        <div class="max-w-6xl mx-auto text-center relative z-10">
            <span class="inline-block py-2 px-4 rounded-xl bg-audit-gold/20 border border-audit-gold/30 text-audit-gold text-[10px] font-black mb-6 tracking-[0.3em] uppercase animate-fade">Conteúdo Técnico Avançado</span>
            <h1 class="text-4xl md:text-7xl font-serif font-bold mb-8 tracking-tighter animate-fade" style="animation-delay: 0.1s">Biblioteca de <span class="text-audit-gold">Papéis de Trabalho</span></h1>
            <p class="text-lg md:text-2xl text-slate-300 max-w-3xl mx-auto font-light leading-relaxed mb-12 animate-fade" style="animation-delay: 0.2s">
                Kit completo de circularizações, matrizes de risco e modelos profissionais conforme <span class="text-white font-semibold">NBC TA</span>.
            </p>
            
            <!-- Busca Central -->
            <div class="max-w-3xl mx-auto relative group animate-fade" style="animation-delay: 0.3s">
                <i class="fas fa-search absolute left-6 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-audit-gold transition-colors"></i>
                <input type="text" id="searchInput" onkeyup="filterLibrary()" placeholder="Pesquisar por Bancos, Advogados, NBC TA 505..." 
                       class="w-full bg-white text-audit-navy rounded-[2rem] py-6 pl-16 pr-40 shadow-2xl outline-none focus:ring-4 focus:ring-audit-gold/20 transition-all text-sm font-medium">
                <button class="absolute right-3 top-1/2 -translate-y-1/2 bg-audit-gold text-audit-navy px-8 py-3 rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-white transition-all shadow-lg">
                    Localizar
                </button>
            </div>
        </div>
    </section>

    <main class="flex-grow pb-24 px-4 sm:px-6">
        <div class="max-w-7xl mx-auto content-wrapper">
            
            <div class="flex flex-col lg:flex-row gap-12">
                
                <!-- Sidebar Filtros -->
                <aside class="w-full lg:w-72 flex-shrink-0 space-y-8 no-print">
                    <div class="bg-white rounded-3xl border border-slate-200 p-8 shadow-sm">
                        <h3 class="text-[11px] font-black text-audit-navy uppercase tracking-widest mb-6 border-b pb-4 flex items-center gap-2">
                            <i class="fas fa-filter text-audit-gold"></i> Categorias
                        </h3>
                        <div class="flex flex-col gap-2" id="filter-container">
                            <button onclick="filterCategory('all', this)" class="filter-btn active-filter text-left px-5 py-3 rounded-xl text-xs font-bold transition-all bg-audit-navy text-white shadow-lg">Todos os Recursos</button>
                            <button onclick="filterCategory('circularizacao', this)" class="filter-btn text-left px-5 py-3 rounded-xl text-xs font-bold text-slate-500 hover:bg-slate-50 border border-transparent hover:border-slate-200 transition-all">Circularizações</button>
                            <button onclick="filterCategory('papel', this)" class="filter-btn text-left px-5 py-3 rounded-xl text-xs font-bold text-slate-500 hover:bg-slate-50 border border-transparent hover:border-slate-200 transition-all">Papéis de Trabalho</button>
                            <button onclick="filterCategory('planilha', this)" class="filter-btn text-left px-5 py-3 rounded-xl text-xs font-bold text-slate-500 hover:bg-slate-50 border border-transparent hover:border-slate-200 transition-all">Planilhas Master</button>
                        </div>
                    </div>

                    <!-- Banner de Apoio EQCR -->
                    <div class="bg-audit-navy rounded-3xl p-8 text-white relative overflow-hidden group shadow-xl">
                        <div class="absolute -right-4 -top-4 text-audit-gold opacity-10 group-hover:scale-110 transition-transform">
                            <i class="fas fa-shield-check text-7xl"></i>
                        </div>
                        <h4 class="text-xs font-black uppercase tracking-widest text-audit-gold mb-3">Auditoria EQCR</h4>
                        <p class="text-[11px] text-slate-300 leading-relaxed mb-6 font-light">Suporte técnico especializado para revisão de qualidade de firmas de auditoria.</p>
                        <a href="#" class="block text-center py-3 bg-white/10 hover:bg-white text-audit-gold hover:text-audit-navy rounded-xl text-[9px] font-black uppercase tracking-widest transition-all border border-white/10">Saber Mais</a>
                    </div>
                </aside>

                <!-- Grid de Conteúdo -->
                <div class="flex-1">
                    <div class="flex items-center justify-between mb-10 border-b border-slate-100 pb-6">
                        <h2 class="text-xl font-serif font-bold text-audit-navy tracking-tight">Exibindo <span id="count-results" class="text-audit-gold font-black">8</span> ficheiros técnicos</h2>
                        <div class="flex items-center gap-3 text-[10px] font-bold text-slate-400 uppercase tracking-widest">
                            Ordenar por:
                            <select class="bg-transparent text-audit-navy outline-none cursor-pointer border-none focus:ring-0">
                                <option>Relevância</option>
                                <option>Mais Recentes</option>
                            </select>
                        </div>
                    </div>

                    <div id="library-grid" class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8">
                        <!-- Conteúdo dinâmico -->
                    </div>

                    <!-- Paginação Simulada -->
                    <div class="mt-16 flex justify-center gap-2">
                        <button class="w-12 h-12 rounded-xl border border-slate-200 flex items-center justify-center text-slate-400 hover:border-audit-gold transition-all"><i class="fas fa-chevron-left"></i></button>
                        <button class="w-12 h-12 rounded-xl bg-audit-navy text-audit-gold font-black text-xs">1</button>
                        <button class="w-12 h-12 rounded-xl border border-slate-200 flex items-center justify-center text-slate-600 hover:border-audit-gold transition-all font-bold text-xs">2</button>
                        <button class="w-12 h-12 rounded-xl border border-slate-200 flex items-center justify-center text-slate-400 hover:border-audit-gold transition-all"><i class="fas fa-chevron-right"></i></button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <div id="footer-placeholder" class="no-print"></div>

    <!-- MODAL DE PREVISUALIZAÇÃO TÉCNICA (SÓLIDO) -->
    <div id="preview-modal" class="fixed inset-0 hidden overflow-y-auto no-print">
        <div class="fixed inset-0" onclick="closePreview()"></div>
        <div class="relative min-h-screen flex flex-col items-center py-12 px-4">
            <!-- Header do Modal -->
            <div class="sticky top-4 z-[9100] w-full max-w-5xl bg-audit-navy p-5 rounded-3xl flex justify-between items-center mb-12 shadow-2xl animate-fade">
                <div class="flex items-center gap-5">
                    <button onclick="closePreview()" class="w-10 h-10 rounded-xl bg-white/10 flex items-center justify-center hover:bg-red-500 transition-all text-white"><i class="fas fa-times"></i></button>
                    <div>
                        <h4 id="preview-title" class="text-sm font-black uppercase tracking-[0.2em] text-audit-gold">Amostra de Papel de Trabalho</h4>
                        <p class="text-[9px] text-white/50 uppercase font-bold tracking-widest">Visualização Técnica Audit Educa</p>
                    </div>
                </div>
                <div class="flex gap-4">
                    <button onclick="window.print()" class="hidden md:flex items-center gap-3 px-6 py-3.5 bg-white/5 text-white rounded-xl text-[10px] font-black uppercase tracking-widest transition-all hover:bg-white/10">
                        <i class="fas fa-print"></i> Imprimir
                    </button>
                    <button onclick="showToast('A processar download do kit completo...')" class="flex items-center gap-3 px-8 py-3.5 bg-audit-gold text-audit-navy rounded-xl text-[10px] font-black uppercase tracking-widest transition-all shadow-lg hover:scale-105 active:scale-95">
                        <i class="fas fa-file-export"></i> Baixar Modelos
                    </button>
                </div>
            </div>

            <!-- Content Paper (Simulado) -->
            <div class="preview-paper animate-fade">
                <div class="flex justify-between items-start border-b-4 border-audit-navy pb-10">
                    <img src="https://auditeduca.com.br/assets/images/audit-educa-logo-horizontal.webp" class="h-12 grayscale brightness-0 opacity-90">
                    <div class="text-right">
                        <h4 class="text-3xl font-serif font-black text-audit-navy tracking-tighter uppercase leading-none">Confirmação</h4>
                        <p class="text-xs font-bold text-slate-400 mt-2 tracking-widest">NBC TA 505 • EXTERNA</p>
                    </div>
                </div>

                <div class="mt-16 space-y-8 text-sm leading-relaxed text-slate-700">
                    <p class="font-bold text-audit-navy">À<br>Instituição Financeira / Fornecedor Selecionado<br>At.: Departamento de Compliance / Auditoria</p>
                    
                    <p>Prezados Senhores,</p>
                    <p>Para fins de revisão das nossas demonstrações financeiras pelos nossos auditores independentes, solicitamos que forneçam diretamente a eles as informações abaixo relacionadas sobre os nossos saldos em <strong>31 de Dezembro de 202X</strong>.</p>
                    
                    <div class="p-8 bg-slate-50 border-l-4 border-audit-gold rounded-r-2xl italic text-xs space-y-4">
                        <p class="font-black text-audit-navy uppercase tracking-widest">Itens para Confirmação:</p>
                        <ul class="list-disc pl-5 space-y-2">
                            <li>Saldos de todas as contas correntes e aplicações;</li>
                            <li>Listagem de garantias, avais e fianças concedidas;</li>
                            <li>Posição de custódia de valores mobiliários;</li>
                            <li>Operações de derivativos e câmbio em aberto.</li>
                        </ul>
                    </div>

                    <p>Agradecemos o envio desta resposta para o e-mail <strong>auditoria@empresa.com.br</strong> com cópia para os nossos auditores.</p>
                    
                    <div class="pt-24 flex flex-col items-center gap-4">
                        <div class="w-72 h-px bg-slate-300"></div>
                        <p class="text-[10px] font-black uppercase tracking-widest text-slate-400">Assinatura Autorizada do Cliente</p>
                    </div>
                </div>

                <div class="mt-24 pt-10 border-t border-slate-100 flex justify-between items-center opacity-40 italic text-[8px] uppercase tracking-[0.4em]">
                    <p>Audit Educa - Repositório de Conteúdo Técnico</p>
                    <p>Documento v3.11</p>
                </div>
            </div>
            <div class="h-20"></div>
        </div>
    </div>

    <!-- Toast UI -->
    <div id="toast" class="fixed bottom-10 left-1/2 -translate-x-1/2 bg-audit-navy text-white px-10 py-5 rounded-full text-[10px] font-bold uppercase tracking-[0.2em] shadow-2xl opacity-0 translate-y-10 transition-all duration-300 z-[9999] pointer-events-none">Operação efetuada com sucesso!</div>

    <script>
        lucide.createIcons();

        // Dados da Biblioteca
        const libraryData = [
            { id: '1', title: 'Planilha Master de Circularização', desc: 'Controle centralizado de envios e recebimentos com dashboard de divergências automático.', cat: 'planilha', format: 'Excel', icon: 'fa-file-excel', color: 'green' },
            { id: '2', title: 'Circularização de Bancos', desc: 'Modelo padronizado para confirmação de saldos, empréstimos e limites de crédito.', cat: 'circularizacao', format: 'Word', icon: 'fa-university', color: 'blue' },
            { id: '3', title: 'Circularização de Advogados', desc: 'Modelo para obtenção de parecer jurídico sobre contingências e riscos de perda.', cat: 'circularizacao', format: 'Word', icon: 'fa-gavel', color: 'indigo' },
            { id: '4', title: 'Circularização de Clientes', desc: 'Confirmação positiva (preto ou branco) para validação de contas a receber.', cat: 'circularizacao', format: 'Word', icon: 'fa-users', color: 'teal' },
            { id: '5', title: 'PT: Teste de Imobilizado', desc: 'Papel de trabalho para testes substantivos de adições, baixas e depreciação.', cat: 'papel', format: 'Excel', icon: 'fa-building', color: 'amber' },
            { id: '6', title: 'Circularização de Fornecedores', desc: 'Confirmação cega (em branco) para validação de passivos e contas a pagar.', cat: 'circularizacao', format: 'Word', icon: 'fa-truck-loading', color: 'red' },
            { id: '7', title: 'PT: Teste de Cut-off de Vendas', desc: 'Validação de corte de faturamento para garantir a competência dos exercícios.', cat: 'papel', format: 'Excel', icon: 'fa-scissors', color: 'purple' },
            { id: '8', title: 'PT: Revisão Analítica DRE', desc: 'Análise de flutuações e tendências entre períodos com justificativas técnicas.', cat: 'papel', format: 'Excel', icon: 'fa-chart-pie', color: 'audit-blue' }
        ];

        function renderLibrary(data) {
            const grid = document.getElementById('library-grid');
            grid.innerHTML = data.map(item => `
                <div class="card-library animate-fade library-item" data-cat="${item.cat}">
                    <div class="h-44 bg-slate-100 relative group overflow-hidden">
                        <span class="category-badge bg-white text-audit-navy border border-slate-200">${item.cat}</span>
                        <div class="absolute inset-0 flex items-center justify-center bg-${item.color}-50/30 group-hover:scale-110 transition-transform duration-700">
                            <i class="fas ${item.icon} text-5xl text-${item.color}-600"></i>
                        </div>
                    </div>
                    <div class="p-8 flex-1 flex flex-col">
                        <h3 class="text-lg font-bold text-audit-navy mb-3 leading-tight group-hover:text-audit-gold transition-all">${item.title}</h3>
                        <p class="text-slate-500 text-xs leading-relaxed mb-8 flex-1">${item.desc}</p>
                        <div class="pt-6 border-t border-slate-50 flex items-center justify-between">
                            <span class="text-[9px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2">
                                <i class="fas fa-file-alt"></i> ${item.format}
                            </span>
                            <button onclick="openPreview('${item.title}')" class="text-audit-navy font-black text-[10px] uppercase tracking-widest hover:text-audit-gold flex items-center gap-2 transition-all">
                                Visualizar <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
            document.getElementById('count-results').innerText = data.length;
        }

        function filterLibrary() {
            const query = document.getElementById('searchInput').value.toLowerCase();
            const filtered = libraryData.filter(i => 
                i.title.toLowerCase().includes(query) || 
                i.desc.toLowerCase().includes(query)
            );
            renderLibrary(filtered);
        }

        function filterCategory(cat, btn) {
            document.querySelectorAll('.filter-btn').forEach(b => {
                b.classList.remove('bg-audit-navy', 'text-white', 'shadow-lg');
                b.classList.add('text-slate-500', 'border-transparent');
            });
            btn.classList.add('bg-audit-navy', 'text-white', 'shadow-lg');
            btn.classList.remove('text-slate-500', 'border-transparent');
            
            if(cat === 'all') renderLibrary(libraryData);
            else renderLibrary(libraryData.filter(i => i.cat === cat));
        }

        function openPreview(title) {
            document.getElementById('preview-title').innerText = title;
            document.getElementById('preview-modal').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function closePreview() {
            document.getElementById('preview-modal').classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        function showToast(msg) {
            const t = document.getElementById('toast');
            t.innerText = msg;
            t.style.opacity = '1';
            t.style.transform = 'translate(-50%, 0)';
            setTimeout(() => { 
                t.style.opacity = '0'; 
                t.style.transform = 'translate(-50%, 40px)'; 
            }, 3000);
        }

        function startTour() { showToast("Guia interativo em manutenção."); }

        window.onload = () => { 
            renderLibrary(libraryData); 
            setTimeout(() => document.getElementById('preloader').style.display = 'none', 800); 
        };
    </script>
</body>
</html>